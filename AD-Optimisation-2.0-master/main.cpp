#include <iostream>
#include "fstream"
#include "string"
using namespace std;

int main()
{
    //will use this later
    /*string names[343] = {"Yvonne.Timson",
                      "Wendy.Lowe",
                      "volunteer.",
                      "Virginia.Hailes",
                      "Vicki.Connolly",
                      "Vicki.Anderton",
                      "Vicki.Abel",
                      "Veronica.Bruce",
                      "Valerie.Monteiro",
                      "Trish.Ouellette",
                      "Tram.Le",
                      "Tracy.Hopkins",
                      "Tracey.Goble",
                      "Tom.Birts",
                      "Theresa.Pomery",
                      "Test.Disable2",
                      "Test.Disable1",
                      "tempHR.",
                      "Temp.Staff",
                      "Tamkin.Essa",
                      "Tamar.Sofair",
                      "Sushma.Shrestha",
                      "Susan.Stepatschuk",
                      "Susan.Staude",
                      "Susan.Ronald",
                      "Sue.Vucak",
                      "Sue.Scott",
                      "Sue.Hauri",
                      "Sue.Bumbak",
                      "Student.",
                      "Steve.Neville",
                      "Stephen.Hall",
                      "Stephanie.Benporath",
                      "Stephanie.Batchelor",
                      "Soraya.Tynan",
                      "Sophie.Mackin",
                      "Sophie.Armstrong",
                      "Sophia.Davis",
                      "Sonja.Herren",
                      "Solomon.Berhane",
                      "Simon.Williams",
                      "Sheridan.Nairn",
                      "Sheridan.Jaffrey",
                      "Shelley.McGovern",
                      "Shekher.Aryaa",
                      "Sharon.Page-Firth",
                      "Sharon.Lee",
                      "Sharon.Gayski",
                      "Sharna.Cox",
                      "Shane.Derschow",
                      "Selina.Eggington",
                      "Sarah.Lynch",
                      "Sarah.Franz",
                      "Samiullah.Safi",
                      "Samantha.McNulty",
                      "Salome.Mbenjele",
                      "Sabena.Lund",
                      "Ryan.Lee",
                      "Ruvimbo.Ganyani",
                      "Ross.Monaco",
                      "Roslyn.O'Neill",
                      "Rosemarie.Dravnieks",
                      "Rose.Indich",
                      "Rosalie.Gort",
                      "Ron.Feruglio",
                      "Rod.Garlett",
                      "Robyn.Fox",
                      "Richard.Bostwick",
                      "Rhonda.McCullagh",
                      "Rhona.Yakacikli",
                      "Renee.Gardiner",
                      "Renae.Walsh",
                      "Remote.User",
                      "Rekha.Raman",
                      "Regina.Richardson",
                      "Recovered.-",
                      "Receptionist.",
                      "Rebecca.Jennings",
                      "Rebecca.Caratti",
                      "Raz.Balian",
                      "Ranka.Joyce",
                      "Rangi.Ponga",
                      "Rana.Ensor",
                      "Rajesh.Eraman",
                      "Rahul.Seth",
                      "Priscilla.McKenzie",
                      "Phoebe.Edgeworth",
                      "Petra.White",
                      "Peter.Sirr",
                      "Peter.Latham",
                      "Paul.King",
                      "Paul.Irimies",
                      "Patrick.May",
                      "Patrick.Hardwick",
                      "Patrick.Hardwick",
                      "Patricia.Calo",
                      "Paige.Hughes",
                      "Olivia.O'Connor",
                      "Noelene.Zanos",
                      "Noa.Sofer",
                      "Nivil.Mani",
                      "Nita.Spedding",
                      "Nisha.Campbell",
                      "Nina.Huynh",
                      "Nicolene.Schulte",
                      "Nicole.Cutler",
                      "Nestor.Soriano",
                      "Nelson.Contreras",
                      "Neil.Cumming",
                      "Nathan.Wraight",
                      "Natalie.Parker",
                      "Natalie.Middleton",
                      "Natalie.Burge",
                      "Muireann.Daly",
                      "Miriam.Fessler",
                      "Miriam.Fessler",
                      "Mime.Liu",
                      "Mike.Seward",
                      "Michelle.Watson",
                      "Michelle.Parsons",
                      "Michelle.Ledgard",
                      "Michelle.Fleay",
                      "Michele.Woods",
                      "Michele.Moynihan",
                      "Michele.Burnlar",
                      "Michael.Waine",
                      "Michael.Saligari",
                      "Michael.Jamison",
                      "Melissa.Webb",
                      "Melissa.Lamb-Justins",
                      "Mel.Farmer",
                      "Megumi.Hiraka",
                      "Maxine.Santich",
                      "Mavis.Taylor",
                      "Mav.James",
                      "Mathew.Taylor",
                      "Maryanne.Wallace",
                      "Mary.Ford",
                      "Martha.Weinmann",
                      "Mark.Dodd",
                      "Marilyn.Manning",
                      "Mariana.Payne",
                      "Maria.Leong",
                      "Mandi.Whyte",
                      "Magali.Oliver",
                      "Luke.Fawcett",
                      "Lucy.Searby",
                      "Louise.McFadden",
                      "Loretta.Bin",
                      "Locum.FSW",
                      "Locum.Admin",
                      "Liza.McStravick",
                      "Liz.Everard",
                      "Lisa.Pelosi",
                      "Lisa.Brown",
                      "Linda.Kleinfelder",
                      "Lily.(Oanh)",
                      "Lilly.Roe",
                      "Leticia.Laurent",
                      "Lesley.Jones",
                      "Leonie.Walker",
                      "Leigh.Passmore",
                      "Leeanne.Miller",
                      "Lee.Tate",
                      "Lazarus.Elias",
                      "Lauren.Maunders",
                      "Lauren.Baxter",
                      "Laura.Roche",
                      "Laura.Lozzelli",
                      "Laura.Green",
                      "Lani.East",
                      "Kym.Coulthard",
                      "Krupa.Ramachandra",
                      "Kesi-Maree.Prior",
                      "Kesi.Isiakpere",
                      "Kayleigh.Sheed",
                      "Kaye.Smith",
                      "Katy.Gray",
                      "Kathryn.Day",
                      "Katherine.Chapman-Houareau",
                      "Katherine.Bennetts",
                      "Kate.Purcell",
                      "Kate.Goeree",
                      "Karen.Sheppard",
                      "Kaitlin.Murphy",
                      "Julie.Woods",
                      "Julie.Whatley",
                      "Julie.Mobbs",
                      "Julie.McChesney",
                      "Juliana.Hussain",
                      "Josephine.Enoch",
                      "John.Marotta",
                      "John.Lee",
                      "Joanne.Reid",
                      "Jillian.Kittler",
                      "Jessika.Davis",
                      "Jessica.Howat",
                      "Jenny.Zalmstra",
                      "Jennifer.Rauch",
                      "Jennifer.McKay",
                      "Jennifer.Hughes",
                      "Jennifer.Fee",
                      "Jennie.Fitzhardinge",
                      "Jemma.Mladenovic",
                      "Jason.Hyde",
                      "Jason.Fleay",
                      "Jason.Brice",
                      "Janine.Oxenham",
                      "Janet.Devlin",
                      "Jan.Barton",
                      "James.Gibson",
                      "Jaimie-Lee.Roberts",
                      "Isabella.Jones",
                      "Info.Helping",
                      "India.Todd",
                      "Ian.Malcolm",
                      "Hellen.Dunwoodie",
                      "Helen.Vickers",
                      "Heidi.Smith",
                      "Heather.Bush",
                      "Haidee.Walker",
                      "Greg.Finch",
                      "Greg.Egan",
                      "grants.",
                      "Georgia.Newman",
                      "Genna.Pawlett",
                      "Gavin.Daw",
                      "Gary.Wreford",
                      "Gary.Tindale",
                      "Gary.Colley",
                      "Gary.Bathgate",
                      "Gabrielle.Biffin",
                      "Fleur.Carter-Earl",
                      "Fiona.Halse",
                      "Fiona.Dost",
                      "Esmeralda.De",
                      "Erin.Moore",
                      "Erin.Griffin",
                      "Eric.Marshall",
                      "Eric.Bukuru",
                      "Emma.Barlow",
                      "Emily.McCain",
                      "Eloise.Gurr",
                      "Ellen.Itzstein",
                      "Ellen.Hart",
                      "Elizabeth.Vickery",
                      "Elisabeth.DosSantos",
                      "Doslyn.Matigimu",
                      "Donna.Turner",
                      "Don.Irvine",
                      "Dina.Swart",
                      "Derrick.Dank",
                      "Denise.Spencer",
                      "Deborah.Skender",
                      "Deborah.Russell",
                      "Dean.DioGuardi",
                      "Davinia.Costello",
                      "David.Kernohan",
                      "David.Hides",
                      "Danielle.Daly",
                      "Danielle.Chivers",
                      "Daniela.Pola",
                      "Daniela.Egloff",
                      "Daniel.Bates",
                      "Dana.Saunders",
                      "Damian.Walsh",
                      "Damian.McGay",
                      "Dale.Smith",
                      "Cynthia.Dawson",
                      "cttest.",
                      "CTDMS.",
                      "ct.user.test.",
                      "Courtney.Perrie",
                      "Corrina.",
                      "Corinne.Richter",
                      "Corinna.Bell",
                      "Connie.Dattilo",
                      "Collette.Irwin",
                      "Claudia.Da",
                      "Clare.Frame",
                      "Claire.Timmel",
                      "Claire.Boyd",
                      "Ciaran.Lougheed",
                      "Chrystalla.Georgiou",
                      "Christopher.Whynot",
                      "Christine.Wathome-Pelz",
                      "Christine.Lees",
                      "Christine.Koukvangelis",
                      "Chris.Davies",
                      "Cheralee.King",
                      "Cecelia.Dann",
                      "Catherine.Holland",
                      "Catherine.Batterham-Baker",
                      "Cath.Stewart",
                      "Carolyn.Lester",
                      "Caroline.McGrath",
                      "Carol.Richards",
                      "Candice.Hatch",
                      "Cally.Jeffers",
                      "Caitlin.Iles",
                      "Brigette.Sheen",
                      "Brett.Monteath",
                      "Brenden.Cosgrove",
                      "Bradley.Calamel",
                      "Beulah.Pereira",
                      "Ben.Allen",
                      "Belinda.Harders",
                      "Barbara.Mushipi",
                      "Ashley.Seward",
                      "Ashley.Knox",
                      "Ashleigh.Hardcastle",
                      "Ashleigh.Easthope",
                      "Ariane.Kaub",
                      "Ariane.Guimbeau",
                      "Arafmi.Volunteer",
                      "Arafmi.President",
                      "Arafmi.Office",
                      "Arafmi.General",
                      "Arafmi.Casual",
                      "Anya.Hughes",
                      "Anne.Ward",
                      "Anne.Scully",
                      "Anne.McCarthy",
                      "Anna.Albrecht",
                      "Ann.Bates",
                      "Angela.Kitchener-Walsh",
                      "Andrew.Palandri",
                      "Andrew.Buzzacott",
                      "Andrew.Black",
                      "Andrea.Halse",
                      "Amy.Nenke",
                      "Amosa.Sipili",
                      "Amanda.Woodward",
                      "Amanda.Melrose",
                      "Allan.Huggins",
                      "Alicia.Van",
                      "Aleasha.Tan",
                      "Aisling.Flanagan",
                      "Aimee.Sinclair",
                      "Ahilan.Croos",
                      "Adam.Hart",
                      "Aaron.Wilkie",
                      "aaron.jambu"};*/

    string search, dataLine, filename;
    ifstream dataFile;

    //Filename should have the same name the personal data we search
    cout<< "Enter the filename" << endl;
    cin >> filename;

    ofstream personalDataFile(filename+".csv"); //file path
    dataFile.open(R"(C:\Users\Robin.Njobo\Desktop\AD Optimisation 2.0\Excel File AD DATA.csv)");

    if(!dataFile.is_open() && !personalDataFile.is_open())
    {
        perror("Error opening");
        exit(EXIT_FAILURE);
    }

    cout << "Enter name for search" <<endl; //cout
    cin >> search; //c in

    personalDataFile <<"Path,Read,Write,Deny"<< endl; //writing the headers for the personal file data
    while(getline(dataFile, dataLine))// while reading search the ex employees.
    {
        if(dataLine.find(search) != string::npos)
        {
            cout << dataLine <<endl;
            personalDataFile << dataLine << endl; //write the data to the next file
        }
    }

    //closing the reading and writing file
    dataFile.close();
    personalDataFile.close();

    cout<< "Robin you are a genius, kid :)" << endl;
    return 0;
}
